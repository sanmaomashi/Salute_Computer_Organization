# 主存储器和辅助存储器

## 一、什么是主存储器

### 1. 定义

主存储器，又被称为主内存或随机存取存储器（RAM），它是计算机的一种内部存储系统，作为数据和计算机处理器（CPU）之间的桥梁。换句话说，它是一个临时存储空间，用来存储计算机当前正在处理的数据和指令。

### 2. 功能

主存储器的主要作用是存储那些由处理器即时使用的数据和指令。当你启动一个应用或者游戏时，这个应用或者游戏的数据和指令被加载到主存储器中，这样处理器可以快速地访问并处理它们。它类似于一个人的短期记忆，你在做某件事情时，你需要的信息都在你的短期记忆中。

### 3. 特性

主存储器的一个重要特性是它的易失性。易失性意味着当电源关闭时，存储在主存储器中的所有信息都会消失。这就像是当你睡觉时，你的短期记忆会被清空一样。这就是为什么你需要将你的文件保存到硬盘（一种非易失性存储设备）上，以便在下次你打开计算机时，可以从硬盘中重新加载到主存储器。

## 二、主存储器的组成和工作原理

### 1. 主存储器的组成

主存储器的组成元素中主要包括存储单元、存储地址寄存器（MAR）和存储数据寄存器（MDR）。

- 存储单元：这是存储设备的基本元素。它们可以存储特定大小的数据，例如，一个字、一个字节等。主存储器是由大量这样的存储单元组成。
- 存储地址寄存器（MAR）：该寄存器用于存储要从主存储器中获取数据或者要向主存储器中写入数据的存储单元的地址。
- 存储数据寄存器（MDR）：该寄存器用于临时存储从主存储器中读取的数据或要写入到主存储器的数据。

### 2. 工作原理

![IMG_5327](/Users/zhougaofeng/Desktop/Salute_系列/Salute_Computer_Organization/img/13.jpg)

当我们使用"菜鸟驿站"来类比计算机的主存储器的工作原理时，可以将其视为以下角色和过程：

1. **店员**：这可以类比为CPU。店员（CPU）的任务是处理所有的寄存（数据读取和写入）请求。
2. **取件号**：这可以类比为存储地址。就像每个包裹都有一个唯一的取件号，主存储器中的每个存储单元也都有一个唯一的地址。
3. **柜台**：这可以类比为存储数据寄存器（MDR）。当客户（CPU）要寄存或取出一个包裹（数据）时，这个过程都会通过柜台（MDR）进行。
4. **包裹**：这可以类比为数据。就像包裹中存储的是物品，主存储器中存储的是数据。
5. **货架**：这可以类比为主存储器。货架（主存储器）上的每个位置都有一个唯一的取件号（地址）标识，并存放着一个包裹（数据）。

根据这个类比，主存储器的工作原理可以描述如下：

- **数据读取**：当CPU需要读取数据时，就像一个客户走进菜鸟驿站想要取出一个包裹。他们给店员提供一个取件号（地址），店员（CPU）在货架（主存储器）上找到对应的包裹（数据），并把它放到柜台（MDR）上。然后，客户（CPU）从柜台（MDR）上取走他们的包裹（数据）。
- **数据写入**：当CPU需要写入数据时，就像一个客户走进菜鸟驿站想要寄存一个包裹。他们把包裹（数据）放到柜台（MDR）上，并告诉店员一个取件号（地址）。然后，店员（CPU）把包裹（数据）从柜台（MDR）上取走，并将它放在货架（主存储器）上对应的位置。

这个类比恰好揭示了主存储器的工作原理：存储地址寄存器（MAR）提供了数据的存储位置，存储数据寄存器（MDR）用于临时存放数据，CPU负责管理这一切的过程。

### 3. 存储体

存储体是计算机内存的一个组成部分，它由一组存储单元构成。每个存储单元都可以存储一个字节的数据，并且都有一个唯一的地址。下图展示了一个计算机内存条，其中每个黑色方块都包含一块内存空间。我们可以将内存想象成一个巨大的 Excel 表格，其中每个单元格都可以存储 1 byte 的数据，在计算机运行时，所有数据都被存储在这些单元格中。

![内存条、内存空间、内存地址](/Users/zhougaofeng/Desktop/Salute_系列/Salute_Computer_Organization/img/15.png)

每个存储单元都有一个唯一的地址，这个地址可以帮助CPU找到内存中的特定位置。你可以把这些地址想象成是一排连续的邮政信箱，每一个信箱（存储单元）都有一个唯一的编号（地址）。

当计算机程序需要读取或写入数据时，它会指定数据在内存中的地址。然后，CPU就会在内存中找到对应地址的存储单元，并从中读取数据或向其中写入数据。

## 三、主存储器的类型

在计算机系统中，主存储器（或简称为内存）是与中央处理器（CPU）直接交互的存储设备，用于存储正在运行的程序及其数据。根据数据存储和读取方式的不同，主存储器可以分为两种主要类型：随机访问存储器 (RAM) 和 只读存储器 (ROM)。

### 1. 随机访问存储器（RAM）

随机访问存储器（RAM）是最常见的内存类型，它允许数据在任何时间被读取和写入。RAM是“易失性”的，意味着当电源关闭时，其中的信息会消失。

RAM又可分为两种类型：静态 RAM（SRAM）和动态 RAM（DRAM）。

#### 静态 RAM（SRAM）

静态 RAM 是一种高速 RAM，因为它存储数据时不需要像动态 RAM 那样定期刷新。SRAM 使用的是触发器来存储数据，这使得它在速度上超过了 DRAM。但是，SRAM 的制造成本更高，因为每个存储单元需要更多的晶体管，因此它主要用于高速缓存（CPU 内部的一种小型高速存储区域）。

#### 动态 RAM（DRAM）

与 SRAM 不同，动态 RAM（DRAM）需要定期刷新才能保持其存储的信息。每个存储单元只需要一个晶体管和一个电容器，这使得 DRAM 在成本上更具优势，因此它是大多数计算机系统主存储器的主要组成部分。

### 2. 只读存储器（ROM）

只读存储器（ROM）是一种非易失性存储器，它存储的数据在断电后不会消失。正如其名“只读”所示，它通常用于存储不经常改变的数据或程序，例如计算机启动时加载的基本输入/输出系统（BIOS）。

ROM有几种类型，包括可编程只读存储器（PROM）、可擦除可编程只读存储器（EPROM）和电子可擦除可编程只读存储器（EEPROM）。

#### 可编程只读存储器（PROM）

PROM是一种可以由用户编程（写入数据）但不能擦除的ROM。一旦数据被写入，就不能更改。

#### 可擦除可编程只读存储器（EPROM）

与PROM不同，EPROM允许数据被擦除和重新编程。但是，这个过程需要特殊的设备，而且通常不能在计算机内部完成。

#### 电子可擦除可编程只读存储器（EEPROM）

EEPROM是一种可以在计算机内部擦除和重新编程的ROM。EEPROM的一个常见应用是在闪存中，例如USB存储设备和固态硬盘。

## 四、什么是辅助存储器

辅助存储器，也被称为外部存储器或者辅助内存，是计算机用于长期数据存储的设备，例如硬盘、SSD（固态硬盘）、光盘、USB闪存等。主要的特点是非易失性，即计算机断电后，存储在辅助存储器中的数据不会丢失。

## 五、常见的辅助存储设备

### 1. 硬盘驱动器（HDD）

硬盘驱动器（HDD）是最常见的辅助存储设备，它使用磁头在磁性盘片上读写数据。因为它的存储容量大，成本低，所以在计算机和笔记本电脑中广泛使用。然而，它的劣势在于读写速度较慢，且由于有机械运动的部分，更易于损坏。

硬盘驱动器（HDD）是一种磁性存储设备。它由一个或多个磁性盘片组成，这些盘片被组装在一个封闭的金属壳中。每个磁性盘片都被一个读写磁头所服务，这个磁头能够在盘片旋转时在盘片表面读写信息。信息被存储在盘片上的微小磁区中，这些磁区可以被磁化，以表示数据的二进制形式（0或1）。

### 2. 固态硬盘（SSD）

固态硬盘（SSD）是辅助存储设备的另一种形式，它使用闪存技术存储数据，没有机械运动的部分，因此速度更快，噪音更小，耐用性更高。然而，与硬盘相比，SSD的价格更高，容量通常更小。

固态硬盘（SSD）使用一种称为闪存的非易失性存储技术。与硬盘驱动器不同，SSD没有机械运动的部分，它通过电子方式存储数据。数据被存储在一种称为浮动门晶体管的微小元件中。这些晶体管可以维持它们的电荷状态，即使在断电情况下，从而保留存储的数据。

### 3. USB闪存

USB闪存是一种便携式存储设备，它使用闪存技术，通过USB接口连接到计算机。它的体积小，便于携带，因此常被用来在不同的计算机之间传输文件。

USB闪存的工作原理与SSD相似，都使用闪存技术。数据通过USB接口传输到闪存芯片上，并存储在其中。USB闪存的优势在于其小巧的体积和可移动性，使其成为在计算机之间传输数据的理想选择。

### 4. 光盘

光盘是一种用激光技术读写数据的辅助存储设备。常见的光盘包括CD、DVD和Blu-ray光盘。光盘的主要优点是成本低，容量适中，且可以长期保存数据不易损坏。然而，随着USB闪存和云存储的普及，光盘的使用越来越少。

光盘通过激光技术存储数据。数据被编码为微小的凹点和平面，这些凹点和平面被刻录在光盘的表面。当光盘在光驱中旋转时，激光束被反射回到光电二极管，通过检测反射光的变化，计算机可以读取出数据。

### 5. 云存储

云存储是一种在线的辅助存储形式，它让用户能够通过网络存储和获取数据。云存储的优点是可以在任何地方、任何设备上访问数据，且云存储服务商通常会备份数据，避免数据丢失。然而，云存储需要持续的网络连接，且可能有隐私和安全性的问题。

云存储的工作原理略有不同，它使用网络技术，将数据存储在远程的服务器上。当用户需要访问云中的数据时，数据通过网络被传输到用户的计算机上。云存储的优势在于其可在任何有网络连接的地方访问数据，且数据可被备份，防止丢失。

## 六、主存储器与辅助存储器的区别和联系

在计算机中，存储器系统是相当重要的组成部分，它们被设计用于存储和检索数据。存储器系统主要分为主存储器和辅助存储器，它们在功能和使用中有一些显著的区别，同时也有紧密的联系。

### 1. 区别

- 存储数据的形式

主存储器（RAM）是计算机中直接和CPU交互的存储单元。当计算机启动时，操作系统以及其他软件会被加载到主存储器中，因为CPU直接从主存储器中读取和执行指令。然而，主存储器是易失性的，也就是说，一旦计算机断电，存储在其中的数据就会丢失。

而辅助存储器（如硬盘、SSD、USB闪存等）则提供非易失性存储。这意味着即使在计算机关闭或断电后，存储在辅助存储器中的数据仍然存在。辅助存储器通常用于存储大量数据和备份。

- 速度和容量

主存储器的读写速度相当快，因为它是CPU执行指令和处理数据的地方。然而，主存储器的容量有限，通常比辅助存储器小得多。

另一方面，辅助存储器的速度相对较慢，但其存储容量较大，可以存储更多的数据。

### 2. 联系

虽然主存储器和辅助存储器在许多方面都有所不同，但它们在计算机系统中却有着重要的联系。

- 数据交换

当你运行一个程序或打开一个文件时，相关数据会从辅助存储器（例如硬盘）被读取到主存储器中。CPU然后从主存储器读取并执行这些数据。当你保存工作时，数据会被写回到辅助存储器中。

- 数据存储的补充

主存储器和辅助存储器相互补充，形成了一个完整的数据存储系统。主存储器提供了快速访问和数据处理的能力，而辅助存储器则提供了大容量和长期存储的能力。

总的来说，主存储器和辅助存储器是计算机存储系统中不可或缺的组成部分，它们各自扮演了不同的角色，但又紧密地联系在一起，共同完成数据存储和访问的任务。

